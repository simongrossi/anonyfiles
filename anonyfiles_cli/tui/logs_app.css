/* ====================================================================
   ANONYFILES TUI - MODERN DESIGN
   ==================================================================== */

/* === Layout Général === */
Screen {
    layout: vertical;
    overflow-y: auto;
    background: $surface;
}

/* Conteneur principal */
.main-container {
    align: center top;
    height: 100%;
    width: 100%;
    padding: 1 3;
    background: $surface;
}

/* === En-tête et Barre de statut === */
#status_line {
    width: 100%;
    height: auto;
    background: $boost;
    color: $text;
    padding: 1 2;
    text-style: bold;
    border: heavy $primary;
    margin-bottom: 1;
    content-align: center middle;
}

/* === Tables et Listes === */
#profiles_table {
    height: 1fr;
    width: 100%;
    border: heavy $primary;
    background: $surface;
    margin-top: 1;
}

DataTable {
    height: 1fr;
    scrollbar-gutter: stable;
}

DataTable > .datatable--header {
    background: $primary;
    color: $text;
    text-style: bold;
}

DataTable > .datatable--cursor {
    background: $secondary;
    color: $text;
    text-style: bold;
}

DataTable:focus > .datatable--cursor {
    background: $secondary-darken-1;
}

/* === Arbre de fichiers === */
#file_tree, #dir_tree {
    height: 1fr;
    width: 100%;
    border: heavy $primary;
    background: $surface;
    margin-top: 1;
    padding: 1;
}

DirectoryTree {
    scrollbar-gutter: stable;
}

DirectoryTree:focus .tree--cursor {
    background: $secondary;
    text-style: bold;
}

/* === Boutons === */
Button {
    width: auto;
    height: 3;
    min-width: 20;
    border: heavy $primary;
    background: $primary;
    color: $text;
    text-style: bold;
    content-align: center middle;
    margin: 1 0;
}

Button:hover {
    background: $primary-lighten-1;
    border: heavy $primary-lighten-2;
    text-style: bold;
}

Button:focus {
    border: heavy $accent;
    text-style: bold;
}

Button.-disabled {
    opacity: 0.5;
    text-style: none;
}

/* Boutons variants */
Button.-primary {
    background: $accent;
    border: heavy $accent;
}

Button.-primary:hover {
    background: $accent-lighten-1;
    border: heavy $accent-lighten-2;
}

Button.-success {
    background: $success;
    border: heavy $success;
    min-width: 30;
}

Button.-success:hover {
    background: $success-lighten-1;
    border: heavy $success-lighten-2;
}

/* Boutons compacts pour les grilles */
Button.compact-button {
    min-width: 18;
    width: auto;
    height: 3;
    padding: 0 2;
    text-align: center;
}

/* Bouton de navigation parent */
.go-up-button {
    width: 100%;
    height: 3;
    border: solid $primary;
    background: $panel;
    content-align: left middle;
    padding: 0 2;
    margin-bottom: 1;
    text-style: bold;
}

.go-up-button:hover {
    background: $primary;
    border: solid $primary-lighten-1;
}

/* === Écran Options === */
.option-grid {
    grid-size: 2;
    grid-gutter: 1 2;
    width: 100%;
    height: auto;
    padding: 1 0;
    background: $panel;
    border: round $primary;
    margin-top: 1;
}

/* Sélecteurs de répertoire */
.dir-selector-row {
    width: 100%;
    height: auto;
    align: left middle;
    padding: 1 2;
    background: $panel;
    border: round $primary;
    margin-bottom: 1;
}

.dir-label {
    width: 15;
    height: 3;
    content-align: right middle;
    padding-right: 2;
    text-style: bold;
    color: $text-muted;
}

.dir-path {
    width: 1fr;
    height: 3;
    padding: 0 2;
    background: $surface;
    border: round $primary;
    content-align: left middle;
    text-style: italic;
    color: $text;
}

.dir-button {
    width: 8;
    min-width: 8;
    height: 3;
    margin-left: 1;
    padding: 0;
    text-align: center;
    content-align: center middle;
}

Label {
    height: 3;
    content-align: right middle;
    padding-right: 1;
    text-style: bold;
    color: $text-muted;
}

/* === Inputs === */
Input {
    width: 1fr;
    height: 3;
    border: round $primary;
    background: $surface;
    padding: 0 1;
}

Input:focus {
    border: heavy $accent;
    background: $surface-lighten-1;
}

Input.-valid {
    border: round $success;
}

Input.-invalid {
    border: heavy $error;
    background: $error-darken-3;
}

.input-container {
    width: 1fr;
    height: auto;
}

/* === Switch === */
Switch {
    height: 3;
    background: $panel;
}

Switch:focus {
    border: tall $accent;
}

Switch > .switch--slider {
    color: $success;
}

/* === Static displays === */
Static {
    color: $text;
}

/* === Écran de traitement === */
#log-container {
    height: 1fr;
    width: 100%;
    border: heavy $accent;
    background: $surface-darken-1;
    margin-top: 1;
    padding: 1;
    scrollbar-gutter: stable;
}

Log {
    background: $surface-darken-2;
    border: solid $primary;
    scrollbar-gutter: stable;
}

/* === Conteneurs === */
Vertical {
    height: auto;
    width: 100%;
}

Horizontal {
    height: auto;
    width: 100%;
    align: left middle;
}

.button-row {
    height: auto;
    width: 100%;
    align: center middle;
}

.button-row > Button {
    margin: 0 1;
}

/* === Utilitaires === */
.mt1 { margin-top: 1; }
.mt2 { margin-top: 2; }
.mb1 { margin-bottom: 1; }
.mb2 { margin-bottom: 2; }
.mr1 { margin-right: 1; }
.mr2 { margin-right: 2; }
.p1 { padding: 1; }
.p2 { padding: 2; }

/* Search input */
#search_input {
    margin-bottom: 1;
}

/* === Messages === */
.success-message {
    background: $success;
    color: $text;
    padding: 1 2;
    border: heavy $success-darken-1;
    text-style: bold;
}

.error-message {
    background: $error;
    color: $text;
    padding: 1 2;
    border: heavy $error-darken-2;
    text-style: bold;
}

.warning-message {
    background: $warning;
    color: $text;
    padding: 1 2;
    border: heavy $warning-darken-1;
    text-style: bold;
}

.info-message {
    background: $panel;
    color: $text-muted;
    padding: 1 2;
    border: round $primary;
    text-style: italic;
}